@if(validMovie) {
<div
    class="group/card w-52 md:hover:scale-130 transition delay-200 duration-300 bg-card-black rounded-md text-off-white overflow-hidden  mx-1">
    <!-- <div class="w-full h-29" (mouseenter)="playVideo(poster, video)" (mouseleave)="stopVideo(poster, video)"> -->
    <!-- <iframe class="w-full h-full hidden" src="https://www.youtube.com/embed/NgsQ8mVkN8w?controls=0&rel=0"
            allow="autoplay" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen #video></iframe> -->
    <!-- <img src="{{posterUrl}}" alt="{{name}} poster" class="w-full h-full cursor-pointer object-cover" #poster> -->
    <!-- <div class="hidden"></div> -->
    <!-- </div> -->
    <a routerLink="/details/movie/{{id}}" class="w-full h-29 block relative">
        <div *ngIf="!isPlaying && logoUrl"
            class="absolute inset-0 flex items-center justify-center z-10 pointer-events-none">
            <img [src]="logoUrl" alt="{{name}} logo" class="max-w-[50%] max-h-[40%] object-contain">
        </div>
        <video class="w-full h-full object-center object-cover" poster="{{posterUrl}}" (mouseenter)="playVideo($event)"
            (mouseleave)="stopVideo($event)">
            <source src="{{videoUrl}}" type="video/mp4">
        </video>
    </a>
    <div
        class="flex flex-col gap-1 px-4 overflow-hidden transition-all delay-200 z-50 duration-700 opacity-0 max-h-0 md:group-hover/card:max-h-96 md:group-hover/card:p-4 md:group-hover/card:opacity-100">
        <div class="flex justify-between">
            <a routerLink="/watch/movie/{{id}}" class="size-7">
                <app-icon [name]="'play'" [state]="'solid'" [title]="'Watch Now'"></app-icon>
            </a>
            <div class="flex gap-2.5">

                <a class="size-7" (click)="toggleFavoriteItem()">
                    <app-icon [name]="'heart'" [state]="'solid'" [title]="'Add to Favorites'"
                        *ngIf="IsInFavorites()"></app-icon>
                    <app-icon [name]="'heart'" [state]="'regular'" [title]="'Remove From Favorites'"
                        *ngIf="!IsInFavorites()"></app-icon>
                </a>

                <a (click)="toggleListItem()" class="size-7 rounded-full">
                    <app-icon [name]="'plus'" [state]="'solid'" [title]="'Add to Watchlist'"
                        *ngIf="!IsInWatchList()"></app-icon>
                    <app-icon [name]="'minus'" [state]="'solid'" [title]="'Remove From Watchlist'"
                        *ngIf="IsInWatchList()"></app-icon>
                </a>
            </div>
        </div>
        <div>
            <p>{{name}}</p>
        </div>
        <div class="flex gap-1 flex-wrap h-5 overflow-hidden select-none">
            <div
                class="px-1.5 py-0.5 text-[0.5rem] font-semibold text-off-white rounded-xl bg-background-black border-border-grey border-solid border-1">
                {{runtime | formatTime}}
            </div>
            @for (tag of tags; track $index)
            {
            <span
                class="px-1.5 py-0.5 text-[0.5rem] font-semibold text-off-white rounded-xl bg-background-black border-border-grey border-solid border-1">{{tag
                | lowercase}}</span>
            }
        </div>
        <div>
            <div class="text-[0.6rem]">{{discription}}</div>
        </div>
    </div>
</div>
}
<!-- @else {
<div class="bg-gray-700 w-52 h-29 grid place-items-center cursor-not-allowed">
    <div class="size-7 rounded-full">
        <div
            class="transition duration-150 border-off-white border-1 size-full rounded-full grow-0 shrink-0 flex justify-center items-center">
            <i class="fa-solid fa-info text-off-white"></i>
        </div>
    </div>
</div>
} -->