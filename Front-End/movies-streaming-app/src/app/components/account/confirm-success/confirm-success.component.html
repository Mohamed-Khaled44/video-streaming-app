<div
  class="h-screen flex flex-row justify-center items-center bg-[url('/images/wallpapers/blur.jpg')] bg-cover bg-center relative">
  <div class="bg-surface-black text-center p-6 mt-[64px] sm:w-[35%] mx-2 rounded-xl flex flex-col gap-4 z-10">
    <!-- Loading State -->
    <div *ngIf="isLoading" class="flex flex-col items-center gap-4">
      <div class="animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-blurple"></div>
      <p class="text-off-white text-lg">Confirming your email...</p>
    </div>

    <!-- Success State -->
    <div *ngIf="!isLoading && isSuccess" class="animate-fade-in">
      <i class="fa-regular fa-circle-check text-9xl text-off-white animate-bounce"></i>
      <h3 class="font-semibold text-2xl text-off-white mt-4">Email Confirmed Successfully!</h3>
      <p class="text-off-white mt-2">Redirecting to home in {{countdown}} seconds...</p>
      <button (click)="navigateToHome()" class="cursor-pointer text-center bg-gradient-to-r from-blurple to-button-hover hover:to-blurple transition duration-300
        py-2 px-5 w-fit block mx-auto rounded-full font-bold mt-4">
        Go to Home Now
      </button>
    </div>

    <!-- Error State -->
    <div *ngIf="!isLoading && !isSuccess" class="animate-fade-in">
      <i class="fa-solid fa-circle-xmark text-9xl text-red-500"></i>
      <h3 class="font-semibold text-2xl text-off-white mt-4">Confirmation Failed</h3>
      <p class="text-off-white mt-2">{{errorMessage}}</p>
      <button (click)="navigateToHome()" class="cursor-pointer text-center bg-gradient-to-r from-blurple to-button-hover hover:to-blurple transition duration-300
        py-2 px-5 w-fit block mx-auto rounded-full font-bold mt-4">
        Return to Home
      </button>
    </div>
  </div>
  <div class="w-full h-16 bg-gradient-to-t from-background-black to-transparent absolute bottom-0"></div>
</div>

<style>
  @keyframes fade-in {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
  }

  .animate-fade-in {
    animation: fade-in 0.5s ease-out forwards;
  }
</style>
